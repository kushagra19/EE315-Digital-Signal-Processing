function [b,y] = LS_lp(x)
%LS_LP Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.9 and DSP System Toolbox 9.11.
% Generated on: 07-Nov-2021 22:11:01

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % FIR Window Lowpass filter designed using the FIR1 function.
    %
    % % All frequency values are in Hz.
    Fs = 44100;  % Sampling Frequency
    %
    Fpass = 7500;            % Passband Frequency
    Fstop = 8000;            % Stopband Frequency
    Dpass = 0.057501127785;  % Passband Ripple
    Dstop = 0.0001;          % Stopband Attenuation
    flag  = 'scale';         % Sampling Flag
    %
    % % Calculate the order from the parameters using KAISERORD.
    [N,Wn,BETA,TYPE] = kaiserord([Fpass Fstop]/(Fs/2), [1 0], [Dstop Dpass]);
    %
    % % Calculate the coefficients using the FIR1 function.
    b  = fir1(N, Wn, TYPE, kaiser(N+1, BETA), flag);
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [-1.72780191061594e-06 -4.41357488208685e-06 ...
        -2.26192172981374e-06 3.38463132703905e-06 6.29626808655515e-06 ...
        2.0802760099934e-06 -5.74301583405531e-06 -8.28255929848332e-06 ...
        -1.20568239855782e-06 8.84758402672338e-06 1.01726117145684e-05 ...
        -5.90319841551266e-07 -1.26844478189884e-05 -1.17035061954615e-05 ...
        3.52912735204638e-06 1.71651892738442e-05 1.25534211581602e-05 ...
        -7.80421875734308e-06 -2.2112820612822e-05 -1.23514758308547e-05 ...
        1.35573896511719e-05 2.72511821607263e-05 1.06937048630015e-05 ...
        -2.08532090144214e-05 -3.21992700803444e-05 -7.16528578964843e-06 ...
        2.96531624919001e-05 3.64719150611467e-05 1.36872967496986e-06 ...
        -3.97912354995383e-05 -3.94880551742086e-05 7.04271265138488e-06 ...
        5.09529057841241e-05 4.05875572065416e-05 -1.83276576991519e-05 ...
        -6.26596365987716e-05 -3.90571439504833e-05 3.26169156996922e-05 ...
        7.42609668907068e-05 3.41654904282794e-05 -4.9873683850236e-05 ...
        -8.49361673309594e-05 -2.52069776066258e-05 6.98561276516579e-05 ...
        9.37071604254011e-05 1.15529627036045e-05 -9.20851447813824e-05 ...
        -9.94639867126172e-05 7.29122795988816e-06 0.000115820248517426 ...
        0.000101003543152873 -3.16260179216165e-05 -0.000140046493794798 ...
        -9.70816393843057e-05 6.14970330899621e-05 0.000163475179012359 ...
        8.64776369358313e-05 -9.66378023860265e-05 -0.000184560679393037 ...
        -6.80700888519268e-05 0.000136419578594026 0.00020153520142993 ...
        4.09209233001436e-05 -0.000179812336137286 -0.000212462501933143 ...
        -4.36486147405159e-06 0.000225360982582302 0.000215310709998206 ...
        -4.19000216909407e-05 -0.000271180572744389 -0.000208043357719356 ...
        9.77253435420509e-05 0.000314973825258323 0.000188726608118977 ...
        -0.000162434299538192 -0.000354073510455682 -0.000155649518185988 ...
        0.000234757884502905 0.000385511317766046 0.000107453049871766 ...
        -0.000312790947587316 -0.000406113646924781 -4.32625056507633e-05 ...
        0.000393973293394618 0.00041262344000902 -3.71828175069365e-05 ...
        -0.000475100451600966 -0.000401845733430701 0.000133409628532431 ...
        0.000552367842065318 0.000370813124131557 -0.000244107563273543 ...
        -0.000621450877087994 -0.000316965884424029 0.000367050364863541 ...
        0.000677622099125718 0.000238340102536049 -0.00049904837840404 ...
        -0.000715904799296391 -0.000133756049837339 0.000635938755098282 ...
        0.000731260763004437 2.99805732523296e-06 -0.000772618723089558 ...
        -0.00071880792064805 0.000153023407135456 0.000903125883636434 ...
        0.000674061830376745 -0.000332136974382621 -0.00102076776914418 ...
        -0.00059319317935117 0.00053081221104343 0.00111830091077625 ...
        0.000473291955066495 -0.000744106666383277 -0.00118815748282411 ...
        -0.00031262770153199 0.00096566559628674 0.00122271530933898 ...
        0.000110894421449823 -0.00118778024827418 -0.00121460473864899 ...
        0.000130571712255719 0.00140150860658895 0.00115704372434392 ...
        -0.000408613558035588 -0.0015968601742647 -0.00104419051148862 ...
        0.000718124181076956 0.00176304379523417 0.000871501726801063 ...
        -0.00105197784110703 -0.00188877479821666 -0.000636082516885091 ...
        0.00140102886183662 0.00196263499458041 0.000337014763013733 ...
        -0.00175418417231792 -0.00197347641438879 2.43505980562377e-05 ...
        0.00209855258474183 0.00191085725361455 -0.000444150441991799 ...
        -0.00241967078520996 -0.00176549646642913 0.000915827420418833 ...
        0.00270180266612477 0.00152973190005979 -0.00143001881013417 ...
        -0.00292830513516004 -0.00119796595737161 0.00197452319217797 ...
        0.00308205001422472 0.000767082593665289 -0.00253434833955292 ...
        -0.00314588820390435 -0.000236820106769224 0.00309183941333473 ...
        0.00310313902631749 -0.000389914247274082 -0.00362688155486174 ...
        -0.0029380846264839 0.00110679919543571 0.00411716513692238 ...
        0.00263644650113958 -0.00190393161749603 -0.00453849510171499 ...
        -0.00218581852667617 0.00276773860569205 0.00486511755526689 ...
        0.00157602800689143 -0.00368096546342688 -0.00507002631082228 ...
        -0.00079939272608677 0.00462272692368374 0.00512519789353705 ...
        -0.000149163205463731 -0.00556859690398183 -0.00500168289388849 ...
        0.00127218056883957 0.00649069498747697 0.00466944937652609 ...
        -0.00256998453610032 -0.00735770174016391 -0.00409682057541368 ...
        0.00404134197518313 0.00813469246883515 0.00324925516208969 ...
        -0.00568459959879411 -0.00878260484552914 -0.00208704460856194 ...
        0.00749955016073113 0.00925701746146089 0.000561163600088939 ...
        -0.00949048450953801 -0.0095056406164674 0.0013941888799324 ...
        0.0116713350762906 0.00946333126632577 -0.00387535913708028 ...
        -0.0140748323751586 -0.00904208091364655 0.00703599448126935 ...
        0.0167701016293929 0.00810996037464989 -0.0111431530931859 ...
        -0.019900004064934 -0.00644308844383115 0.0167082225651629 ...
        0.023771268070429 0.00360148856801493 -0.0248419942294346 ...
        -0.0291139936645314 0.00145898037392367 0.0384611638633047 ...
        0.038057665379741 -0.0120459094535441 -0.0683190222564957 ...
        -0.0601227666853892 0.0473379946975336 0.211397543395253 ...
        0.333884775808702 0.333884775808702 0.211397543395253 0.0473379946975336 ...
        -0.0601227666853892 -0.0683190222564957 -0.0120459094535441 ...
        0.038057665379741 0.0384611638633047 0.00145898037392367 ...
        -0.0291139936645314 -0.0248419942294346 0.00360148856801493 ...
        0.023771268070429 0.0167082225651629 -0.00644308844383115 ...
        -0.019900004064934 -0.0111431530931859 0.00810996037464989 ...
        0.0167701016293929 0.00703599448126935 -0.00904208091364655 ...
        -0.0140748323751586 -0.00387535913708028 0.00946333126632577 ...
        0.0116713350762906 0.0013941888799324 -0.0095056406164674 ...
        -0.00949048450953801 0.000561163600088939 0.00925701746146089 ...
        0.00749955016073113 -0.00208704460856194 -0.00878260484552914 ...
        -0.00568459959879411 0.00324925516208969 0.00813469246883515 ...
        0.00404134197518313 -0.00409682057541368 -0.00735770174016391 ...
        -0.00256998453610032 0.00466944937652609 0.00649069498747697 ...
        0.00127218056883957 -0.00500168289388849 -0.00556859690398183 ...
        -0.000149163205463731 0.00512519789353705 0.00462272692368374 ...
        -0.00079939272608677 -0.00507002631082228 -0.00368096546342688 ...
        0.00157602800689143 0.00486511755526689 0.00276773860569205 ...
        -0.00218581852667617 -0.00453849510171499 -0.00190393161749603 ...
        0.00263644650113958 0.00411716513692238 0.00110679919543571 ...
        -0.0029380846264839 -0.00362688155486174 -0.000389914247274082 ...
        0.00310313902631749 0.00309183941333473 -0.000236820106769224 ...
        -0.00314588820390435 -0.00253434833955292 0.000767082593665289 ...
        0.00308205001422472 0.00197452319217797 -0.00119796595737161 ...
        -0.00292830513516004 -0.00143001881013417 0.00152973190005979 ...
        0.00270180266612477 0.000915827420418833 -0.00176549646642913 ...
        -0.00241967078520996 -0.000444150441991799 0.00191085725361455 ...
        0.00209855258474183 2.43505980562377e-05 -0.00197347641438879 ...
        -0.00175418417231792 0.000337014763013733 0.00196263499458041 ...
        0.00140102886183662 -0.000636082516885091 -0.00188877479821666 ...
        -0.00105197784110703 0.000871501726801063 0.00176304379523417 ...
        0.000718124181076956 -0.00104419051148862 -0.0015968601742647 ...
        -0.000408613558035588 0.00115704372434392 0.00140150860658895 ...
        0.000130571712255719 -0.00121460473864899 -0.00118778024827418 ...
        0.000110894421449823 0.00122271530933898 0.00096566559628674 ...
        -0.00031262770153199 -0.00118815748282411 -0.000744106666383277 ...
        0.000473291955066495 0.00111830091077625 0.00053081221104343 ...
        -0.00059319317935117 -0.00102076776914418 -0.000332136974382621 ...
        0.000674061830376745 0.000903125883636434 0.000153023407135456 ...
        -0.00071880792064805 -0.000772618723089558 2.99805732523296e-06 ...
        0.000731260763004437 0.000635938755098282 -0.000133756049837339 ...
        -0.000715904799296391 -0.00049904837840404 0.000238340102536049 ...
        0.000677622099125718 0.000367050364863541 -0.000316965884424029 ...
        -0.000621450877087994 -0.000244107563273543 0.000370813124131557 ...
        0.000552367842065318 0.000133409628532431 -0.000401845733430701 ...
        -0.000475100451600966 -3.71828175069365e-05 0.00041262344000902 ...
        0.000393973293394618 -4.32625056507633e-05 -0.000406113646924781 ...
        -0.000312790947587316 0.000107453049871766 0.000385511317766046 ...
        0.000234757884502905 -0.000155649518185988 -0.000354073510455682 ...
        -0.000162434299538192 0.000188726608118977 0.000314973825258323 ...
        9.77253435420509e-05 -0.000208043357719356 -0.000271180572744389 ...
        -4.19000216909407e-05 0.000215310709998206 0.000225360982582302 ...
        -4.36486147405159e-06 -0.000212462501933143 -0.000179812336137286 ...
        4.09209233001436e-05 0.00020153520142993 0.000136419578594026 ...
        -6.80700888519268e-05 -0.000184560679393037 -9.66378023860265e-05 ...
        8.64776369358313e-05 0.000163475179012359 6.14970330899621e-05 ...
        -9.70816393843057e-05 -0.000140046493794798 -3.16260179216165e-05 ...
        0.000101003543152873 0.000115820248517426 7.29122795988816e-06 ...
        -9.94639867126172e-05 -9.20851447813824e-05 1.15529627036045e-05 ...
        9.37071604254011e-05 6.98561276516579e-05 -2.52069776066258e-05 ...
        -8.49361673309594e-05 -4.9873683850236e-05 3.41654904282794e-05 ...
        7.42609668907068e-05 3.26169156996922e-05 -3.90571439504833e-05 ...
        -6.26596365987716e-05 -1.83276576991519e-05 4.05875572065416e-05 ...
        5.09529057841241e-05 7.04271265138488e-06 -3.94880551742086e-05 ...
        -3.97912354995383e-05 1.36872967496986e-06 3.64719150611467e-05 ...
        2.96531624919001e-05 -7.16528578964843e-06 -3.21992700803444e-05 ...
        -2.08532090144214e-05 1.06937048630015e-05 2.72511821607263e-05 ...
        1.35573896511719e-05 -1.23514758308547e-05 -2.2112820612822e-05 ...
        -7.80421875734308e-06 1.25534211581602e-05 1.71651892738442e-05 ...
        3.52912735204638e-06 -1.17035061954615e-05 -1.26844478189884e-05 ...
        -5.90319841551266e-07 1.01726117145684e-05 8.84758402672338e-06 ...
        -1.20568239855782e-06 -8.28255929848332e-06 -5.74301583405531e-06 ...
        2.0802760099934e-06 6.29626808655515e-06 3.38463132703905e-06 ...
        -2.26192172981374e-06 -4.41357488208685e-06 -1.72780191061594e-06]);
end

y = step(Hd,double(x));


% [EOF]
