function y = Ls_Hp(x)
%LS_HP Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.9 and DSP System Toolbox 9.11.
% Generated on: 07-Nov-2021 19:49:26

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % FIR least-squares Highpass filter designed using the FIRLS function.
    %
    % % All frequency values are in Hz.
    % Fs = 44100;  % Sampling Frequency
    %
    % N     = 100;   % Order
    % Fstop = 2250;  % Stopband Frequency
    % Fpass = 2500;  % Passband Frequency
    % Wstop = 1;     % Stopband Weight
    % Wpass = 1;     % Passband Weight
    %
    % % Calculate the coefficients using the FIRLS function.
    % b  = firls(N, [0 Fstop Fpass Fs/2]/(Fs/2), [0 0 1 1], [Wstop Wpass]);
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [0.00452616795409723 0.00386797391451001 ...
        0.00270694619926229 0.00114691491397105 -0.00065431271764191 ...
        -0.00249998404419104 -0.00417495181856076 -0.00546969166079342 ...
        -0.00620520959053411 -0.00625600652100883 -0.005568321387321 ...
        -0.00417125108083142 -0.00217901777734724 0.000216438166943013 ...
        0.00276230924040082 0.00516989934995551 0.0071454146351393 ...
        0.00842345574489063 0.00879960822103554 0.00815840838502158 ...
        0.00649324857299273 0.00391546676636938 0.000650886737607323 ...
        -0.00297665885423102 -0.0065739040666168 -0.00971654429623283 ...
        -0.0119939812974764 -0.0130560689328219 -0.012657045005124 ...
        -0.0106918537191937 -0.00722058605703993 -0.00247775842487172 ...
        0.0031354706929121 0.00907640830494238 0.0147017834418171 ...
        0.0193214153705563 0.0222600425819332 0.0229217490256354 ...
        0.0208509285033454 0.015783816003112 0.00768529474710103 ...
        -0.00323309144115353 -0.0165163364210748 -0.0314908620252066 ...
        -0.0473095516321323 -0.0630134505561693 -0.077605022340648 ...
        -0.0901266735573991 -0.0997376625718094 -0.105782555278554 ...
        0.892154914759589 -0.105782555278554 -0.0997376625718094 ...
        -0.0901266735573991 -0.077605022340648 -0.0630134505561693 ...
        -0.0473095516321323 -0.0314908620252066 -0.0165163364210748 ...
        -0.00323309144115353 0.00768529474710103 0.015783816003112 ...
        0.0208509285033454 0.0229217490256354 0.0222600425819332 ...
        0.0193214153705563 0.0147017834418171 0.00907640830494238 ...
        0.0031354706929121 -0.00247775842487172 -0.00722058605703993 ...
        -0.0106918537191937 -0.012657045005124 -0.0130560689328219 ...
        -0.0119939812974764 -0.00971654429623283 -0.0065739040666168 ...
        -0.00297665885423102 0.000650886737607323 0.00391546676636938 ...
        0.00649324857299273 0.00815840838502158 0.00879960822103554 ...
        0.00842345574489063 0.0071454146351393 0.00516989934995551 ...
        0.00276230924040082 0.000216438166943013 -0.00217901777734724 ...
        -0.00417125108083142 -0.005568321387321 -0.00625600652100883 ...
        -0.00620520959053411 -0.00546969166079342 -0.00417495181856076 ...
        -0.00249998404419104 -0.00065431271764191 0.00114691491397105 ...
        0.00270694619926229 0.00386797391451001 0.00452616795409723]);
end

y = step(Hd,double(x));


% [EOF]
