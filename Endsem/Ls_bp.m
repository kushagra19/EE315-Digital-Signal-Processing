function y = Ls_bp(x)
%LS_BP Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 9.9 and DSP System Toolbox 9.11.
% Generated on: 07-Nov-2021 21:36:05

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % FIR Window Bandpass filter designed using the FIR1 function.
    %
    % % All frequency values are in Hz.
    % Fs = 44100;  % Sampling Frequency
    %
    % Fstop1 = 1000;     % First Stopband Frequency
    % Fpass1 = 1500;     % First Passband Frequency
    % Fpass2 = 7000;     % Second Passband Frequency
    % Fstop2 = 7500;     % Second Stopband Frequency
    % Dstop1 = 0.001;    % First Stopband Attenuation
    % Dpass  = 0.1;      % Passband Ripple
    % Dstop2 = 0.001;    % Second Stopband Attenuation
    % flag   = 'scale';  % Sampling Flag
    %
    % % Calculate the order from the parameters using KAISERORD.
    % [N,Wn,BETA,TYPE] = kaiserord([Fstop1 Fpass1 Fpass2 Fstop2]/(Fs/2), [0 ...
    %                              1 0], [Dstop1 Dpass Dstop2]);
    %
    % % Calculate the coefficients using the FIR1 function.
    % b  = fir1(N, Wn, TYPE, kaiser(N+1, BETA), flag);
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [4.71497684387747e-05 3.64862492700134e-05 ...
        -1.44479300509161e-05 -6.74566696424581e-05 -7.56490804535563e-05 ...
        -3.30178514807333e-05 1.1452704740386e-05 -2.68505543798235e-06 ...
        -8.3414214927833e-05 -0.00016797700728258 -0.000177771406024419 ...
        -9.9169386472503e-05 -7.53333150466621e-06 -1.76125613129673e-18 ...
        -9.51654505599281e-05 -0.000201650397003442 -0.000198723131128392 ...
        -5.91747431893603e-05 0.000109593158084403 0.0001603551864085 ...
        5.45826756574741e-05 -8.44036641288363e-05 -8.11415375751173e-05 ...
        0.000114405661054555 0.000358796142781844 0.000440341752152992 ...
        0.000289426897263414 6.48684965859816e-05 1.30013220966382e-05 ...
        0.000220995177572287 0.000508692434985301 0.000585506333988623 ...
        0.000337702742824101 -3.7212999604859e-05 -0.000202910963457008 ...
        -1.60655953910785e-05 0.000308539594590848 0.00038549613723066 ...
        3.95366882058341e-05 -0.000493422227162435 -0.000767881494776809 ...
        -0.000562979250717663 -0.000125365820743616 4.48503408591336e-05 ...
        -0.000314011034845093 -0.000934554244029051 -0.0012452762866744 ...
        -0.00092511440909971 -0.000249194669944092 0.000144098460188239 ...
        -0.000125534823668538 -0.000772400351812832 -0.00108296227208089 ...
        -0.00060884977809055 0.00035474534431231 0.00100852217167661 ...
        0.000818213062000243 7.23001822585166e-05 -0.000354002531777053 ...
        0.000151908703006483 0.00129402889485318 0.00209553546764152 ...
        0.00183320187824169 0.000782479722823743 4.92527461968139e-06 ...
        0.000325496591601553 0.00147840998180629 0.00229810444846933 ...
        0.00183471698080873 0.000329440283468875 -0.000946092027338227 ...
        -0.000901093988511855 0.000265768802302055 0.00118735726167956 ...
        0.000638064560980182 -0.00121162952429559 -0.00286647772082836 ...
        -0.00291851487947339 -0.00146234120790456 -8.64264656212585e-05 ...
        -0.00035813699316543 -0.00223426949095261 -0.00399510367465056 ...
        -0.00386512713672271 -0.00179367750366056 0.00038826221617618 ...
        0.000694234192319333 -0.00103011399989134 -0.00284334147147792 ...
        -0.00254031136740912 0.000135319192107469 0.00310191314688937 ...
        0.0038774874812187 0.00203693102994763 -0.000251242805591307 ...
        -0.000264851344397505 0.00255120856518621 0.00587897740201597 ...
        0.00666878009303355 0.00414770787630152 0.000723479096633883 ...
        -0.000251874214607461 0.00219991250295803 0.00555362699296241 ...
        0.00610775144407536 0.00263964367803946 -0.00220403260448805 ...
        -0.00431725117037951 -0.0021556328875826 0.00157327777319978 ...
        0.00239217589587009 -0.0015285102975041 -0.00733777020972628 ...
        -0.0100484739211562 -0.00739009651892112 -0.00223905644160754 ...
        -3.07206683205582e-05 -0.00343391226585095 -0.00946556333321816 ...
        -0.0121060741787108 -0.00814811154560376 -0.000612780475710417 ...
        0.00386530683601565 0.0014631100313334 -0.00479736575149962 ...
        -0.00763202356663786 -0.0025618419733188 0.00732802507867675 ...
        0.0138972333466751 0.0117402297383454 0.00381045204649236 ...
        -0.000952920845311957 0.00376955851309566 0.0150160888597144 ...
        0.0227039834695789 0.0191758109369676 0.00713784744033889 ...
        -0.00216274938812629 0.000428954155879107 0.0124437510366805 ...
        0.0210957238786885 0.0151989253916546 -0.00324560695226083 ...
        -0.0195440505973183 -0.0197517666690731 -0.00499944404820659 ...
        0.00767258220893008 0.000569700923124716 -0.0265145250950975 ...
        -0.0531518724796364 -0.0556033585400692 -0.0305806585560834 ...
        -0.0028500145719879 -0.00615413748767641 -0.0508512807134248 ...
        -0.1064909057089 -0.118374129855646 -0.0494568591120337 ...
        0.0845195272760161 0.216977792869255 0.272134781723858 0.216977792869255 ...
        0.0845195272760161 -0.0494568591120337 -0.118374129855646 ...
        -0.1064909057089 -0.0508512807134248 -0.00615413748767641 ...
        -0.0028500145719879 -0.0305806585560834 -0.0556033585400692 ...
        -0.0531518724796364 -0.0265145250950975 0.000569700923124716 ...
        0.00767258220893008 -0.00499944404820659 -0.0197517666690731 ...
        -0.0195440505973183 -0.00324560695226083 0.0151989253916546 ...
        0.0210957238786885 0.0124437510366805 0.000428954155879107 ...
        -0.00216274938812629 0.00713784744033889 0.0191758109369676 ...
        0.0227039834695789 0.0150160888597144 0.00376955851309566 ...
        -0.000952920845311957 0.00381045204649236 0.0117402297383454 ...
        0.0138972333466751 0.00732802507867675 -0.0025618419733188 ...
        -0.00763202356663786 -0.00479736575149962 0.0014631100313334 ...
        0.00386530683601565 -0.000612780475710417 -0.00814811154560376 ...
        -0.0121060741787108 -0.00946556333321816 -0.00343391226585095 ...
        -3.07206683205582e-05 -0.00223905644160754 -0.00739009651892112 ...
        -0.0100484739211562 -0.00733777020972628 -0.0015285102975041 ...
        0.00239217589587009 0.00157327777319978 -0.0021556328875826 ...
        -0.00431725117037951 -0.00220403260448805 0.00263964367803946 ...
        0.00610775144407536 0.00555362699296241 0.00219991250295803 ...
        -0.000251874214607461 0.000723479096633883 0.00414770787630152 ...
        0.00666878009303355 0.00587897740201597 0.00255120856518621 ...
        -0.000264851344397505 -0.000251242805591307 0.00203693102994763 ...
        0.0038774874812187 0.00310191314688937 0.000135319192107469 ...
        -0.00254031136740912 -0.00284334147147792 -0.00103011399989134 ...
        0.000694234192319333 0.00038826221617618 -0.00179367750366056 ...
        -0.00386512713672271 -0.00399510367465056 -0.00223426949095261 ...
        -0.00035813699316543 -8.64264656212585e-05 -0.00146234120790456 ...
        -0.00291851487947339 -0.00286647772082836 -0.00121162952429559 ...
        0.000638064560980182 0.00118735726167956 0.000265768802302055 ...
        -0.000901093988511855 -0.000946092027338227 0.000329440283468875 ...
        0.00183471698080873 0.00229810444846933 0.00147840998180629 ...
        0.000325496591601553 4.92527461968139e-06 0.000782479722823743 ...
        0.00183320187824169 0.00209553546764152 0.00129402889485318 ...
        0.000151908703006483 -0.000354002531777053 7.23001822585166e-05 ...
        0.000818213062000243 0.00100852217167661 0.00035474534431231 ...
        -0.00060884977809055 -0.00108296227208089 -0.000772400351812832 ...
        -0.000125534823668538 0.000144098460188239 -0.000249194669944092 ...
        -0.00092511440909971 -0.0012452762866744 -0.000934554244029051 ...
        -0.000314011034845093 4.48503408591336e-05 -0.000125365820743616 ...
        -0.000562979250717663 -0.000767881494776809 -0.000493422227162435 ...
        3.95366882058341e-05 0.00038549613723066 0.000308539594590848 ...
        -1.60655953910785e-05 -0.000202910963457008 -3.7212999604859e-05 ...
        0.000337702742824101 0.000585506333988623 0.000508692434985301 ...
        0.000220995177572287 1.30013220966382e-05 6.48684965859816e-05 ...
        0.000289426897263414 0.000440341752152992 0.000358796142781844 ...
        0.000114405661054555 -8.11415375751173e-05 -8.44036641288363e-05 ...
        5.45826756574741e-05 0.0001603551864085 0.000109593158084403 ...
        -5.91747431893603e-05 -0.000198723131128392 -0.000201650397003442 ...
        -9.51654505599281e-05 -1.76125613129673e-18 -7.53333150466621e-06 ...
        -9.9169386472503e-05 -0.000177771406024419 -0.00016797700728258 ...
        -8.3414214927833e-05 -2.68505543798235e-06 1.1452704740386e-05 ...
        -3.30178514807333e-05 -7.56490804535563e-05 -6.74566696424581e-05 ...
        -1.44479300509161e-05 3.64862492700134e-05 4.71497684387747e-05]);
end

y = step(Hd,double(x));


% [EOF]
